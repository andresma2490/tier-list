<div
  class="float-right w-0"
  cdkOverlayOrigin
  #menuOverlay="cdkOverlayOrigin"
></div>
<div class="relative">
  <div
    *ngIf="tierItem.url && !isEditing"
    class="absolute end-0 bg-zinc-700 px-1 pb-1"
  >
    <a [href]="tierItem.url" target="_blank">
      <!-- prettier-ignore -->
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>
          <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>
        </svg>
      </span>
    </a>
  </div>
  <div *ngIf="isEditing" class="absolute end-0 bg-zinc-700">
    <button (click)="isMenuOpen = !isMenuOpen">
      <!-- prettier-ignore -->
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
          <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
        </svg>
    </button>
  </div>
  <img
    class="h-20 w-36 self-center object-contain bg-zinc-950"
    [src]="tierItem.image"
    alt="image item"
  />
</div>

<ng-template
  #menuOverlay
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="menuOverlay"
  [cdkConnectedOverlayOpen]="isMenuOpen"
  [cdkConnectedOverlayHasBackdrop]="true"
  (backdropClick)="isMenuOpen = false"
  (detach)="isMenuOpen = false"
>
  <div
    class="mt-2 list-none divide-y divide-gray-100 rounded bg-white text-base shadow"
  >
    <ul class="py-1" aria-labelledby="user-menu-button">
      <li>
        <a
          href="javascript:void(0)"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"
          (click)="editTierItem()"
        >
          Editar
        </a>
      </li>
      <li>
        <a
          href="javascript:void(0)"
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"
          (click)="deleteTierItem()"
        >
          Eliminar
        </a>
      </li>
    </ul>
  </div>
</ng-template>
